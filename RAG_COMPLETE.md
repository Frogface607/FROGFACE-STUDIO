# ‚úÖ RAG —Å–∏—Å—Ç–µ–º–∞ –≥–æ—Ç–æ–≤–∞!

## üéâ –ß—Ç–æ —Å–æ–∑–¥–∞–Ω–æ

### 1. **–£–ª—É—á—à–µ–Ω–Ω–∞—è RAG —Å–∏—Å—Ç–µ–º–∞**

‚úÖ –ë–∞–∑–∞ –∑–Ω–∞–Ω–∏–π —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π:
- –†–∞–∑–Ω—ã—Ö namespace –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –∞–≥–µ–Ω—Ç–∞
- In-memory —Ö—Ä–∞–Ω–∏–ª–∏—â–µ (–ª–µ–≥–∫–æ –∑–∞–º–µ–Ω–∏—Ç—å –Ω–∞ Firebase/ChromaDB)
- –ü–æ–∏—Å–∫ –ø–æ –∫–ª—é—á–µ–≤—ã–º —Å–ª–æ–≤–∞–º
- –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —É–ª—É—á—à–µ–Ω–∏—è –∑–∞–ø—Ä–æ—Å–æ–≤ —á–µ—Ä–µ–∑ LLM

### 2. **–°–∏—Å—Ç–µ–º–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –∑–Ω–∞–Ω–∏–π**

‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –∏–∑:
- –¢–µ–∫—Å—Ç–æ–≤—ã—Ö —Ñ–∞–π–ª–æ–≤ (.txt, .md)
- JSON —Ñ–∞–π–ª–æ–≤
- –¶–µ–ª—ã—Ö –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–π
- –ü—Ä–æ–≥—Ä–∞–º–º–Ω–æ —á–µ—Ä–µ–∑ API

### 3. **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π seeder**

‚úÖ –ü—Ä–∏ –∑–∞–ø—É—Å–∫–µ MCP-—Å–µ—Ä–≤–µ—Ä–∞:
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞–µ—Ç—Å—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–π `knowledge/`
- –ó–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –≤—Å–µ –∑–Ω–∞–Ω–∏—è –∏–∑ —Ñ–∞–π–ª–æ–≤
- –ö–∞–∂–¥—ã–π –∞–≥–µ–Ω—Ç –ø–æ–ª—É—á–∞–µ—Ç –¥–æ—Å—Ç—É–ø –∫ —Å–≤–æ–µ–º—É namespace

### 4. **API –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∑–Ω–∞–Ω–∏—è–º–∏**

‚úÖ –î–æ—Å—Ç—É–ø–Ω—ã endpoints:
- `POST /mcp/knowledge` - –¥–æ–±–∞–≤–∏—Ç—å –∑–Ω–∞–Ω–∏–µ
- `GET /mcp/knowledge/search` - –ø–æ–∏—Å–∫
- `GET /mcp/knowledge/:namespace` - –≤—Å–µ –∑–Ω–∞–Ω–∏—è namespace
- `DELETE /mcp/knowledge/:id` - —É–¥–∞–ª–∏—Ç—å
- `POST /mcp/knowledge/bulk` - –º–∞—Å—Å–æ–≤–∞—è –∑–∞–≥—Ä—É–∑–∫–∞
- `POST /mcp/knowledge/reload` - –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∞ –∏–∑ —Ñ–∞–π–ª–æ–≤

### 5. **–£—Ç–∏–ª–∏—Ç—ã –∏ —Å–∫—Ä–∏–ø—Ç—ã**

‚úÖ –°–æ–∑–¥–∞–Ω—ã —Å–∫—Ä–∏–ø—Ç—ã:
- `scripts/create-example-knowledge.ts` - —Å–æ–∑–¥–∞–Ω–∏–µ –ø—Ä–∏–º–µ—Ä–æ–≤
- `scripts/add-knowledge.ts` - –±—ã—Å—Ç—Ä–æ–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –∑–Ω–∞–Ω–∏–π

## üöÄ –ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å

### –î–æ–±–∞–≤–∏—Ç—å –∑–Ω–∞–Ω–∏—è —á–µ—Ä–µ–∑ —Ñ–∞–π–ª—ã

1. –û—Ç–∫—Ä–æ–π `knowledge/copywriter/posts/`
2. –°–æ–∑–¥–∞–π —Ñ–∞–π–ª `my-posts.txt`
3. –î–æ–±–∞–≤—å —Ç—É–¥–∞ –ø—Ä–∏–º–µ—Ä—ã –ø–æ—Å—Ç–æ–≤
4. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏ MCP-—Å–µ—Ä–≤–µ—Ä (–æ–Ω –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–≥—Ä—É–∑–∏—Ç)

### –î–æ–±–∞–≤–∏—Ç—å –∑–Ω–∞–Ω–∏—è —á–µ—Ä–µ–∑ —Å–∫—Ä–∏–ø—Ç

```bash
pnpm tsx scripts/add-knowledge.ts copywriter "–ú–æ–π –ø—Ä–∏–º–µ—Ä –ø–æ—Å—Ç–∞"
```

### –î–æ–±–∞–≤–∏—Ç—å –∑–Ω–∞–Ω–∏—è —á–µ—Ä–µ–∑ API

```bash
curl -X POST http://localhost:3001/mcp/knowledge \
  -H "Content-Type: application/json" \
  -d '{
    "content": "–ú–æ–π —Ç–µ–∫—Å—Ç",
    "namespace": "copywriter",
    "metadata": {"source": "manual"}
  }'
```

### –°–æ–∑–¥–∞—Ç—å –ø—Ä–∏–º–µ—Ä—ã –∑–Ω–∞–Ω–∏–π

```bash
pnpm tsx scripts/create-example-knowledge.ts
```

–≠—Ç–æ —Å–æ–∑–¥–∞—Å—Ç:
- –°—Ç—Ä—É–∫—Ç—É—Ä—É –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–π `knowledge/`
- –ü—Ä–∏–º–µ—Ä—ã –¥–ª—è –∫–æ–ø–∏—Ä–∞–π—Ç–µ—Ä–∞
- –û–±—â—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é
- README —Å –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è–º–∏

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ knowledge/

```
knowledge/
‚îú‚îÄ‚îÄ copywriter/
‚îÇ   ‚îú‚îÄ‚îÄ posts/          # –ü—Ä–∏–º–µ—Ä—ã –ø–æ—Å—Ç–æ–≤
‚îÇ   ‚îú‚îÄ‚îÄ examples/       # –ü—Ä–∏–º–µ—Ä—ã —Ç–µ–∫—Å—Ç–æ–≤
‚îÇ   ‚îî‚îÄ‚îÄ styles/         # –°—Ç–∏–ª–∏ –∏ —Ç–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏
‚îú‚îÄ‚îÄ researcher/
‚îÇ   ‚îú‚îÄ‚îÄ research/       # –ò—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è
‚îÇ   ‚îî‚îÄ‚îÄ notes/          # –ó–∞–º–µ—Ç–∫–∏
‚îî‚îÄ‚îÄ global/             # –û–±—â–∏–µ –∑–Ω–∞–Ω–∏—è
```

## üí° –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –≤ –∞–≥–µ–Ω—Ç–∞—Ö

–ê–≥–µ–Ω—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –∑–Ω–∞–Ω–∏—è:

```typescript
// –í –∞–≥–µ–Ω—Ç–µ:
const enhancedPrompt = await this.createEnhancedPrompt(
  "–°–æ–∑–¥–∞–π –ø–æ—Å—Ç –ø—Ä–æ –∫–æ–Ω—Ü–µ—Ä—Ç",
  3 // –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –∏–∑ –±–∞–∑—ã –∑–Ω–∞–Ω–∏–π
)

// LLM –ø–æ–ª—É—á–∏—Ç:
// "–°–æ–∑–¥–∞–π –ø–æ—Å—Ç –ø—Ä–æ –∫–æ–Ω—Ü–µ—Ä—Ç
// 
// –†–µ–ª–µ–≤–∞–Ω—Ç–Ω—ã–π –∫–æ–Ω—Ç–µ–∫—Å—Ç –∏–∑ –±–∞–∑—ã –∑–Ω–∞–Ω–∏–π:
// 1. –ü—Ä–∏–º–µ—Ä —É—Å–ø–µ—à–Ω–æ–≥–æ –∞–Ω–æ–Ω—Å–∞ –∫–æ–Ω—Ü–µ—Ä—Ç–∞...
// 2. –°—Ç–∏–ª—å –¥–ª—è VK...
// 
// –ò—Å–ø–æ–ª—å–∑—É–π –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω–Ω—ã–π –∫–æ–Ω—Ç–µ–∫—Å—Ç..."
```

## üéØ –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

1. ‚úÖ RAG —Å–∏—Å—Ç–µ–º–∞ –≥–æ—Ç–æ–≤–∞
2. üìù –°–æ–∑–¥–∞–π –ø—Ä–∏–º–µ—Ä—ã –∑–Ω–∞–Ω–∏–π (–∑–∞–ø—É—Å—Ç–∏ `create-example-knowledge.ts`)
3. üöÄ –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–π - –ø–æ–ø—Ä–æ—Å–∏ –∞–≥–µ–Ω—Ç–∞ —Å–æ–∑–¥–∞—Ç—å –ø–æ—Å—Ç
4. üìö –î–æ–±–∞–≤–ª—è–π –±–æ–ª—å—à–µ –∑–Ω–∞–Ω–∏–π –ø–æ –º–µ—Ä–µ —Ä–∞–±–æ—Ç—ã
5. üîÑ –ü–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–∏ –æ–±–Ω–æ–≤–ª—è–π –±–∞–∑—É –∑–Ω–∞–Ω–∏–π

## üìö –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

- `KNOWLEDGE_GUIDE.md` - –ø–æ–¥—Ä–æ–±–Ω–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ
- `scripts/create-example-knowledge.ts` - –ø—Ä–∏–º–µ—Ä—ã —Å–∫—Ä–∏–ø—Ç–∞
- `packages/core/knowledge-base/src/` - –∏—Å—Ö–æ–¥–Ω—ã–π –∫–æ–¥

---

**RAG —Å–∏—Å—Ç–µ–º–∞ –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–∞!** üéâ

–¢–µ–ø–µ—Ä—å –∞–≥–µ–Ω—Ç—ã –º–æ–≥—É—Ç:
- ‚úÖ –ò—Å–∫–∞—Ç—å —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é
- ‚úÖ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø—Ä–æ—à–ª—ã–µ –ø—Ä–∏–º–µ—Ä—ã
- ‚úÖ –£–ª—É—á—à–∞—Ç—å –∫–∞—á–µ—Å—Ç–≤–æ –æ—Ç–≤–µ—Ç–æ–≤
- ‚úÖ –£—á–∏—Ç—å—Å—è –Ω–∞ –≤–∞—à–∏—Ö –∑–Ω–∞–Ω–∏—è—Ö

