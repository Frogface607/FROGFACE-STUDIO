#!/usr/bin/env tsx
/**
 * –°–∫—Ä–∏–ø—Ç –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –ø—Ä–∏–º–µ—Ä–æ–≤ –∑–Ω–∞–Ω–∏–π
 * –ó–∞–ø—É—Å–∫: pnpm tsx scripts/create-example-knowledge.ts
 */

import * as fs from 'fs/promises'
import * as path from 'path'
import { createKnowledgeStructure } from '../packages/core/knowledge-base/src/seeder'
import { addToKnowledgeBase } from '../packages/core/knowledge-base/src/index'

async function createExamples() {
  console.log('üöÄ –°–æ–∑–¥–∞—é –ø—Ä–∏–º–µ—Ä—ã –∑–Ω–∞–Ω–∏–π...\n')

  // –°–æ–∑–¥–∞–µ–º —Å—Ç—Ä—É–∫—Ç—É—Ä—É
  await createKnowledgeStructure('./knowledge')

  // –î–æ–±–∞–≤–ª—è–µ–º –ø—Ä–∏–º–µ—Ä—ã –ø—Ä–æ–≥—Ä–∞–º–º–Ω–æ
  const examples = [
    {
      namespace: 'copywriter',
      content: `–ü—Ä–∏–º–µ—Ä—ã —É—Å–ø–µ—à–Ω—ã—Ö –∞–Ω–æ–Ω—Å–æ–≤ –∫–æ–Ω—Ü–µ—Ä—Ç–æ–≤:

1. –ö—Ä–∞—Ç–∫–∏–π –∞–Ω–æ–Ω—Å:
"üî• Embers - –∂–∏–≤–æ–π –∫–æ–Ω—Ü–µ—Ä—Ç!
üìÖ –ü—è—Ç–Ω–∏—Ü–∞, 15 –¥–µ–∫–∞–±—Ä—è –≤ 20:00
üìç –ö–ª—É–± [–Ω–∞–∑–≤–∞–Ω–∏–µ]
üé´ –ë–∏–ª–µ—Ç—ã —É–∂–µ –≤ –ø—Ä–æ–¥–∞–∂–µ!
–ù–µ –ø—Ä–æ–ø—É—Å—Ç–∏! üé∏"

2. –ü–æ–¥—Ä–æ–±–Ω—ã–π –∞–Ω–æ–Ω—Å:
"–î—Ä—É–∑—å—è! –†–∞–¥—ã –æ–±—ä—è–≤–∏—Ç—å –æ –Ω–∞—à–µ–º —Å–ª–µ–¥—É—é—â–µ–º –∫–æ–Ω—Ü–µ—Ä—Ç–µ!

üé∏ Embers
üìÖ 15 –¥–µ–∫–∞–±—Ä—è, –ø—è—Ç–Ω–∏—Ü–∞
üïê 20:00
üìç –ö–ª—É–± [–Ω–∞–∑–≤–∞–Ω–∏–µ]

–ú—ã –ø—Ä–∏–≥–æ—Ç–æ–≤–∏–ª–∏ –¥–ª—è –≤–∞—Å –Ω–æ–≤—ã–µ —Ç—Ä–µ–∫–∏ –∏ –º–Ω–æ–≥–æ —ç–Ω–µ—Ä–≥–∏–∏! –î–æ –≤—Å—Ç—Ä–µ—á–∏ –Ω–∞ –ø–ª–æ—â–∞–¥–∫–µ! üéµ

–ë–∏–ª–µ—Ç—ã: [—Å—Å—ã–ª–∫–∞]"

3. –ü–æ—Å—Ç-–Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏–µ:
"‚è∞ –ù–∞–ø–æ–º–∏–Ω–∞–Ω–∏–µ: –¥–æ –∫–æ–Ω—Ü–µ—Ä—Ç–∞ Embers –æ—Å—Ç–∞–ª–æ—Å—å 3 –¥–Ω—è!
–ö—Ç–æ —É–∂–µ –≥–æ—Ç–æ–≤? –ü–æ–¥–Ω–∏–º–∏—Ç–µ —Ä—É–∫–∏ üôã‚Äç‚ôÇÔ∏èüôã‚Äç‚ôÄÔ∏è
–î–æ –≤—Å—Ç—Ä–µ—á–∏ –Ω–∞ –ø–ª–æ—â–∞–¥–∫–µ! üéµ"`,
    },
    {
      namespace: 'copywriter',
      content: `–°—Ç–∏–ª–∏ –¥–ª—è —Ä–∞–∑–Ω—ã—Ö –ø–ª–∞—Ç—Ñ–æ—Ä–º:

VK:
- –î—Ä—É–∂–µ–ª—é–±–Ω—ã–π, –æ—Ç–∫—Ä—ã—Ç—ã–π —Ç–æ–Ω
- –≠–º–æ–¥–∑–∏ –∏—Å–ø–æ–ª—å–∑—É–µ–º —É–º–µ—Ä–µ–Ω–Ω–æ (1-2 –Ω–∞ –ø–æ—Å—Ç)
- –•–µ—à—Ç–µ–≥–∏ –≤ –∫–æ–Ω—Ü–µ –ø–æ—Å—Ç–∞
- –î–ª–∏–Ω–∞: 200-500 —Å–∏–º–≤–æ–ª–æ–≤

Telegram:
- –ü–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–π –ø–æ–¥—Ö–æ–¥
- –ú–æ–∂–Ω–æ –±–æ–ª–µ–µ –Ω–µ—Ñ–æ—Ä–º–∞–ª—å–Ω—ã–π —è–∑—ã–∫
- –ë–æ–ª—å—à–µ —ç–º–æ–¥–∑–∏ –¥–æ–ø—É—Å—Ç–∏–º–æ
- –î–ª–∏–Ω–∞: 100-300 —Å–∏–º–≤–æ–ª–æ–≤

Instagram:
- –í–∏–∑—É–∞–ª—å–Ω–æ –ø—Ä–∏–≤–ª–µ–∫–∞—Ç–µ–ª—å–Ω—ã–π —Ç–µ–∫—Å—Ç
- –ò—Å—Ç–æ—Ä–∏—è –≤ —Ç–µ–∫—Å—Ç–µ
- –ú–Ω–æ–≥–æ —Ö–µ—à—Ç–µ–≥–æ–≤ (10-20)
- –î–ª–∏–Ω–∞: 100-200 —Å–∏–º–≤–æ–ª–æ–≤ –¥–ª—è –ø–æ–¥–ø–∏—Å–µ–π`,
    },
    {
      namespace: 'copywriter',
      content: `–®–∞–±–ª–æ–Ω—ã –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —Ç–∏–ø–æ–≤ –ø–æ—Å—Ç–æ–≤:

–ê–Ω–æ–Ω—Å –∫–æ–Ω—Ü–µ—Ä—Ç–∞:
- –î–∞—Ç–∞ –∏ –≤—Ä–µ–º—è
- –ú–µ—Å—Ç–æ –ø—Ä–æ–≤–µ–¥–µ–Ω–∏—è
- –°—Å—ã–ª–∫–∞ –Ω–∞ –±–∏–ª–µ—Ç—ã
- –ü—Ä–∏–∑—ã–≤ –∫ –¥–µ–π—Å—Ç–≤–∏—é

–ü–æ—Å–ª–µ –∫–æ–Ω—Ü–µ—Ä—Ç–∞:
- –ë–ª–∞–≥–æ–¥–∞—Ä–Ω–æ—Å—Ç—å –ø—É–±–ª–∏–∫–µ
- –§–æ—Ç–æ–≥—Ä–∞—Ñ–∏–∏/–≤–∏–¥–µ–æ
- –£–ø–æ–º–∏–Ω–∞–Ω–∏–µ —Å–ª–µ–¥—É—é—â–∏—Ö —Å–æ–±—ã—Ç–∏–π

–†–µ–ø–æ—Å—Ç –æ—Ç–∑—ã–≤–∞:
- –°–ø–∞—Å–∏–±–æ –∑–∞ –æ—Ç–∑—ã–≤
- –¶–∏—Ç–∞—Ç–∞ –æ—Ç–∑—ã–≤–∞
- –ü—Ä–∏–∑—ã–≤ –ø–æ–¥–ø–∏—Å–∞—Ç—å—Å—è`,
    },
    {
      namespace: 'global',
      content: `–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø—Ä–æ–µ–∫—Ç–µ Frogface Studio:

Frogface Studio - —ç—Ç–æ –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞ –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è AI-–∞–≥–µ–Ω—Ç–∞–º–∏.
–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏ —Ç–≤–æ—Ä—á–µ—Å–∫–∏—Ö –∏ —Ä–∞–±–æ—á–∏—Ö –∑–∞–¥–∞—á.

–ê–≥–µ–Ω—Ç—ã:
- Copywriter - —Å–æ–∑–¥–∞–Ω–∏–µ —Ç–µ–∫—Å—Ç–æ–≤–æ–≥–æ –∫–æ–Ω—Ç–µ–Ω—Ç–∞
- Researcher - –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ
- SMM - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–æ—Ü—Å–µ—Ç—è–º–∏
- –ò –¥—Ä—É–≥–∏–µ —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∞–≥–µ–Ω—Ç—ã

–í—Å–µ –∞–≥–µ–Ω—Ç—ã —Ä–∞–±–æ—Ç–∞—é—Ç —á–µ—Ä–µ–∑ –µ–¥–∏–Ω—ã–π MCP-—Å–µ—Ä–≤–µ—Ä –∏ –∏–º–µ—é—Ç –¥–æ—Å—Ç—É–ø –∫ –æ–±—â–µ–π –±–∞–∑–µ –∑–Ω–∞–Ω–∏–π.`,
    },
  ]

  for (const example of examples) {
    try {
      const id = await addToKnowledgeBase(
        example.content,
        example.namespace,
        { source: 'example', createdAt: new Date().toISOString() }
      )
      console.log(`‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–æ –≤ ${example.namespace}: ${id.substring(0, 20)}...`)
    } catch (error) {
      console.error(`‚ùå –û—à–∏–±–∫–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –≤ ${example.namespace}:`, error)
    }
  }

  console.log('\n‚úÖ –ü—Ä–∏–º–µ—Ä—ã –∑–Ω–∞–Ω–∏–π —Å–æ–∑–¥–∞–Ω—ã!')
  console.log('üìÅ –§–∞–π–ª—ã –Ω–∞—Ö–æ–¥—è—Ç—Å—è –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ knowledge/')
  console.log('üí° –¢–µ–ø–µ—Ä—å –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–ª—è—Ç—å —Å–≤–æ–∏ –∑–Ω–∞–Ω–∏—è –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–µ –ø–∞–ø–∫–∏')
}

createExamples().catch(console.error)

